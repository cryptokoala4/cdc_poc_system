# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type OrderItem {
  itemId: ID!
  quantity: Float!
  price: Float
}

type Order {
  _id: ID!
  tableId: ID!
  username: String!
  items: [OrderItem!]!
  totalAmount: Float!
  status: String!
}

type Bill {
  _id: ID!
  tableId: ID!
  username: String!
  orderIds: [ID!]!
  orders: [Order!]!
  totalAmount: Float!
  status: String!
}

type Table {
  _id: ID!
  number: Int!
  seats: Int!
  isOccupied: Boolean!
  currentBillId: ID
  lockedBy: String
  lockedAt: DateTime
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type MenuItem {
  _id: ID!
  name: String!
  description: String!
  price: Float!
  category: String!
}

type Staff {
  _id: ID!
  name: String!
  username: String!
  role: String!
}

type MenuItemOperationResult {
  success: Boolean!
  message: String!
  menuItem: MenuItem
}

type BillOperationResult {
  success: Boolean!
  message: String!
  bill: Bill
}

type TableOperationResult {
  success: Boolean!
  message: String!
  table: Table
}

type StaffOperationResult {
  success: Boolean!
  message: String!
  staff: Staff
}

type OrderOperationResult {
  success: Boolean!
  message: String!
  order: Order
}

type Query {
  menuItems: [MenuItem!]!
  menuItem(id: ID!): MenuItemOperationResult!
  bills: [Bill!]!
  bill(id: ID!): BillOperationResult!
  getCurrentBillForTable(tableId: ID!): Bill
  tables: [Table!]!
  table(id: ID!): Table!
  getAllStaff: [Staff!]!
  getStaff(id: ID!): StaffOperationResult!
  orders: [Order!]!
  order(_id: ID!): OrderOperationResult!
}

type Mutation {
  createBill(createBillInput: CreateBillDto!): BillOperationResult!
  updateBill(id: ID!, updateBillInput: UpdateBillDto!): BillOperationResult!
  settleBill(id: ID!): BillOperationResult!
  removeOrderFromBill(billId: ID!, orderId: ID!): BillOperationResult!
  deleteBill(id: ID!): BillOperationResult!
  lockTable(tableId: ID!, username: String!): TableOperationResult!
  unlockTable(tableId: ID!, username: String!): TableOperationResult!
  updateTable(_id: ID!, isOccupied: Boolean, currentBillId: ID): TableOperationResult!
  login(username: String!, password: String!): StaffOperationResult!
  createOrder(createOrderInput: CreateOrderInput!, username: String!): OrderOperationResult!
  updateOrder(_id: ID!, updateOrderDto: UpdateOrderDto!): OrderOperationResult!
  closeOrder(_id: ID!): OrderOperationResult!
}

input CreateBillDto {
  tableId: ID!
  username: String!
  orderItems: [OrderItemInput!]!
}

input OrderItemInput {
  itemId: ID!
  quantity: Float!
  price: Float!
}

input UpdateBillDto {
  orderId: ID
  totalAmount: Float
  status: String
  paymentMethod: String
}

input CreateOrderInput {
  tableId: ID!
  username: String!
  items: [OrderItemInput!]!
  totalAmount: Float
}

input UpdateOrderDto {
  items: [OrderItemInput!]!
}